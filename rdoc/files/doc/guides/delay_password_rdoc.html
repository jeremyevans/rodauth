<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
<head>
<title>delay_password.rdoc</title>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
<link href='../../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
<script type='text/javascript'>
  function popupCode(url) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }
  
  function toggleCode(id) {
    var code = document.getElementById(id)
  
    code.style.display = code.style.display != 'block' ? 'block' : 'none'
    return true
  }
  
  // Make codeblocks hidden by default
  document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
</script>
</head>
<body class='page'>
<div class='file' id='wrapper'>
<div class='header'>
<h1 class='name'>delay_password.rdoc
</h1>
<div class='paths'>
doc/guides/delay_password.rdoc
</div>
</div>
<div id='content'>
<div id='text'>
<div id='description'>
<h1 id="label-Set+password+when+verifying+account">Set password when verifying account<span><a href="#label-Set+password+when+verifying+account">&para;</a> <a href="#top">&uarr;</a></span></h1>

<p>If you want to request less information from the user on registration, you can ask the user to set their password only when they verify their account:</p>

<pre class="ruby"><span class="ruby-identifier">plugin</span> <span class="ruby-value">:rodauth</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">enable</span> <span class="ruby-value">:login</span>, <span class="ruby-value">:logout</span>, <span class="ruby-value">:verify_account</span>
  <span class="ruby-identifier">verify_account_set_password?</span> <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Note that this is already the default behaviour when verify account feature is loaded, but itâ€™s not when verify account grace period is used, because it would prevent the account from logging in during the grace period. You can work around this by automatically remembering their login during account creation using the remember feature.  Be aware that remembering accounts has effects beyond the verification period, and this would only allow automatic logins from the browser that created the account.</p>

<pre class="ruby"><span class="ruby-identifier">plugin</span> <span class="ruby-value">:rodauth</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">enable</span> <span class="ruby-value">:login</span>, <span class="ruby-value">:logout</span>, <span class="ruby-value">:verify_account_grace_period</span>, <span class="ruby-value">:remember</span>
  <span class="ruby-identifier">verify_account_set_password?</span> <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">after_create_account</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">remember_login</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>
</div>
<div id='context'>
</div>

</div>
</div>

<div id='footer-push'></div>
</div>
<div id='footer'>
<a href="https://github.com/jeremyevans/hanna"><strong>Hanna</strong> RDoc template</a>
</div>
</body>
</html>
