<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
<head>
<title>1.13.0.txt</title>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
<link href='../../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
<script type='text/javascript'>
  function popupCode(url) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }
  
  function toggleCode(id) {
    var code = document.getElementById(id)
  
    code.style.display = code.style.display != 'block' ? 'block' : 'none'
    return true
  }
  
  // Make codeblocks hidden by default
  document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
</script>
</head>
<body class='page'>
<div class='file' id='wrapper'>
<div class='header'>
<h1 class='name'>1.13.0.txt
</h1>
<div class='paths'>
doc/release_notes/1.13.0.txt
</div>
</div>
<div id='content'>
<div id='text'>
<div id='description'>
<h1 id="label-New+Features">New Features<span><a href="#label-New+Features">&para;</a> <a href="#top">&uarr;</a></span></h1>
<ul><li>
<p>A cache_templates configuration method has been added, which can be set to false to disable the default caching of templates.  The main time you would want to use this is if you were overriding Rodauth’s templates with your own templates and modifying such templates in development mode.  If that is the case, you may want to use something like:</p>

<pre class="ruby"><span class="ruby-identifier">cache_templates</span>(<span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;RACK_ENV&#39;</span>] <span class="ruby-operator">!=</span> <span class="ruby-string">&#39;development&#39;</span>)
</pre>
</li><li>
<p>An invalid_previous_password_message configuration method has been added to the <a href="../change_password_rdoc.html">change_password</a> feature, which overrides the default invalid_password_message configuration method if the incorrect previous password is used when changing the password.  This is designed for use when invalid_password_message has been overridden and the message doesn’t make sense in the change password case.</p>
</li><li>
<p>A json_response_body(hash) configuration method has been added to the jwt feature, allowing for custom formatting of the JSON response body.  This is called with the hash to use in the response, and should return a JSON-formatted string. Example:</p>

<pre class="ruby"><span class="ruby-identifier">json_response_body</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">hash</span><span class="ruby-operator">|</span>
  <span class="ruby-keyword">super</span>(<span class="ruby-string">&#39;status&#39;</span><span class="ruby-operator">=&gt;</span><span class="ruby-identifier">response</span>.<span class="ruby-identifier">status</span>, <span class="ruby-string">&#39;detail&#39;</span><span class="ruby-operator">=&gt;</span><span class="ruby-identifier">hash</span>)
<span class="ruby-keyword">end</span>
</pre>
</li></ul>

<h1 id="label-Other+Improvements">Other Improvements<span><a href="#label-Other+Improvements">&para;</a> <a href="#top">&uarr;</a></span></h1>
<ul><li>
<p>In the jwt feature, if json_response_custom_error_status? is set to true, custom error statuses will be used if only_json? is set to true, even if the request is not in JSON format.  Previously, custom error statuses were only used if the request was in JSON format.</p>
</li></ul>
</div>
<div id='context'>
</div>

</div>
</div>

<div id='footer-push'></div>
</div>
<div id='footer'>
<a href="https://github.com/jeremyevans/hanna"><strong>Hanna</strong> RDoc template</a>
</div>
</body>
</html>
