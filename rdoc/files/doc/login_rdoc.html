<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
<head>
<title>login.rdoc</title>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
<link href='../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
<script type='text/javascript'>
  function popupCode(url) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }
  
  function toggleCode(id) {
    var code = document.getElementById(id)
  
    code.style.display = code.style.display != 'block' ? 'block' : 'none'
    return true
  }
  
  // Make codeblocks hidden by default
  document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
</script>
</head>
<body class='page'>
<div class='file' id='wrapper'>
<div class='header'>
<h1 class='name'>login.rdoc
</h1>
<div class='paths'>
doc/login.rdoc
</div>
</div>
<div id='content'>
<div id='text'>
<div id='description'>
<h1 id="label-Documentation+for+Login+Feature">Documentation for Login Feature<span><a href="#label-Documentation+for+Login+Feature">&para;</a> <a href="#top">&uarr;</a></span></h1>

<p>The login feature implements a login page.  Itâ€™s the most commonly used feature.</p>

<p>In addition to the auth methods below, it provides a <code>login</code> method that wraps <code>login_session</code>, running login hooks and redirecting to the configured location.</p>

<pre class="ruby"><span class="ruby-identifier">rodauth</span>.<span class="ruby-identifier">account</span>           <span class="ruby-comment">#=&gt; { id: 123, ... }</span>
<span class="ruby-identifier">rodauth</span>.<span class="ruby-identifier">login</span>(<span class="ruby-string">&#39;password&#39;</span>) <span class="ruby-comment"># login the current account</span>
</pre>

<h2 id="label-Auth+Value+Methods">Auth Value Methods<span><a href="#label-Auth+Value+Methods">&para;</a> <a href="#top">&uarr;</a></span></h2>
<table class="rdoc-list note-list"><tbody><tr><td class='label'>login_additional_form_tags </td><td>
<p>HTML fragment containing additional form tags to use on the login form.</p>
</td></tr><tr><td class='label'>login_button </td><td>
<p>The text to use for the login button.</p>
</td></tr><tr><td class='label'>login_error_flash </td><td>
<p>The flash error to show for an unsuccessful login.</p>
</td></tr><tr><td class='label'>login_error_status </td><td>
<p>The response status to use when using an invalid login or password to login, 401 by default.</p>
</td></tr><tr><td class='label'>login_form_footer_links </td><td>
<p>An array of entries for links to show on the login page.  Each entry is an array of three elements, sort order (integer), link href, and link text.</p>
</td></tr><tr><td class='label'>login_form_footer_links_heading </td><td>
<p>A heading to show before the login form footer links.</p>
</td></tr><tr><td class='label'>login_notice_flash </td><td>
<p>The flash notice to show after successful login.</p>
</td></tr><tr><td class='label'>login_page_title </td><td>
<p>The page title to use on the login form.</p>
</td></tr><tr><td class='label'>login_redirect </td><td>
<p>Where to redirect after a successful login.</p>
</td></tr><tr><td class='label'>login_redirect_session_key </td><td>
<p>The key in the session hash storing the location to redirect to after successful login.</p>
</td></tr><tr><td class='label'>login_return_to_requested_location? </td><td>
<p>Whether to redirect to the originally requested location after successful login when <code>require_login</code> was used, false by default.</p>
</td></tr><tr><td class='label'>login_return_to_requested_location_max_path_size </td><td>
<p>The maximum path size in bytes to allow when returning to requested location, 2048 by default to avoid exceeding the 4K cookie size limit</p>
</td></tr><tr><td class='label'>login_route </td><td>
<p>The route to the login action. Defaults to <code>login</code>.</p>
</td></tr><tr><td class='label'>multi_phase_login_forms </td><td>
<p>An array of entries for authentication methods that can be used to login when using multi phase login.  Each entry is an array of three elements, sort order (integer), HTML, and method to call if this entry is the only authentication method available (or nil to not call a method).</p>
</td></tr><tr><td class='label'>multi_phase_login_page_title </td><td>
<p>The page title to use on the login form after login has been entered when using multi phase login.</p>
</td></tr><tr><td class='label'>need_password_notice_flash </td><td>
<p>The flash notice to show during multi phase login after the login has been entered, when requesting the password.</p>
</td></tr><tr><td class='label'>use_multi_phase_login? </td><td>
<p>Whether to ask for login first, and only ask for password after asking for the login, false by default unless an alternative login feature such as <a href="email_auth_rdoc.html">email_auth</a> or <a href="webauthn_login_rdoc.html">webauthn_login</a> is used.</p>
</td></tr></tbody></table>

<h2 id="label-Auth+Methods">Auth Methods<span><a href="#label-Auth+Methods">&para;</a> <a href="#top">&uarr;</a></span></h2>
<table class="rdoc-list note-list"><tbody><tr><td class='label'>before_login_route </td><td>
<p>Run arbitrary code before handling a login route.</p>
</td></tr><tr><td class='label'>login_form_footer </td><td>
<p>A message to display after the login form.</p>
</td></tr><tr><td class='label'>login_response </td><td>
<p>Return a response after a successful login. By default, redirects to <code>login_redirect</code> (or the requested location if <code>login_return_to_requested_location?</code> is true).</p>
</td></tr><tr><td class='label'>login_return_to_requested_location_path </td><td>
<p>If <code>login_return_to_requested_location?</code> is true, the path to use as the requested location.  By default, uses the full path of the request for GET requests, and is nil for non-GET requests (in which case the default <code>login_redirect</code> will be used).</p>
</td></tr><tr><td class='label'>login_view </td><td>
<p>The HTML to use for the login form.</p>
</td></tr><tr><td class='label'>multi_phase_login_view </td><td>
<p>The HTML to use for the login form after login has been entered when using multi phase login.</p>
</td></tr></tbody></table>
</div>
<div id='context'>
</div>

</div>
</div>

<div id='footer-push'></div>
</div>
<div id='footer'>
<a href="https://github.com/jeremyevans/hanna"><strong>Hanna</strong> RDoc template</a>
</div>
</body>
</html>
